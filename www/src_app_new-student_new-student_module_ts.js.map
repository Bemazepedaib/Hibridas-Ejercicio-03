{"version":3,"file":"src_app_new-student_new-student_module_ts.js","mappings":"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","sources":["./src/app/new-student/new-student-routing.module.ts","./src/app/new-student/new-student.module.ts","./src/app/new-student/new-student.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewStudentPage } from './new-student.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewStudentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewStudentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewStudentPageRoutingModule } from './new-student-routing.module';\n\nimport { NewStudentPage } from './new-student.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    NewStudentPageRoutingModule\n  ],\n  declarations: [NewStudentPage]\n})\nexport class NewStudentPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Student } from '../models/student';\nimport { StudentService } from '../services/student.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-new-student',\n  templateUrl: './new-student.page.html',\n  styleUrls: ['./new-student.page.scss'],\n})\nexport class NewStudentPage implements OnInit {\n\n  public myForm: FormGroup;\n  public validationMessages: Object;\n  public searched: Boolean = false;\n\n  constructor(private studentService: StudentService, private fb: FormBuilder, private tc: ToastController) { }\n\n  async searchStudent() {\n    if (this.myForm.controls['controlNumber'].valid) {\n      let st: Student;\n      st = this.studentService.getStudentByControlNumber(this.myForm.get('controlNumber').value)\n      if (!st) {\n        let toast = await this.tc.create({\n          message: 'Estudiante no encontrado',\n          duration: 2000\n        });\n        toast.present();\n        this.myForm.reset();\n      } else {\n        this.myForm.controls['name'].setValue(st.name);\n        this.myForm.controls['curp'].setValue(st.curp);\n        this.myForm.controls['edad'].setValue(st.age);\n        this.myForm.controls['nip'].setValue(st.nip);\n        this.myForm.controls['email'].setValue(st.email);\n        this.myForm.controls['career'].setValue(st.career)\n        this.myForm.controls['photo'].setValue(st.photo);\n        this.searched = true;\n      }\n    } else {\n      let toast = await this.tc.create({\n        message: 'Verifique que el número de control sea válido',\n        duration: 2000\n      });\n      toast.present();\n    }\n\n  }\n\n  async addStudent() {\n    if (this.myForm.valid) {\n      let st: Student = {\n        controlNumber: this.myForm.get('controlNumber').value,\n        name: this.myForm.get('name').value,\n        curp: this.myForm.get('curp').value,\n        age: this.myForm.get('edad').value,\n        nip: this.myForm.get('nip').value,\n        email: this.myForm.get('email').value,\n        career: this.myForm.get('career').value,\n        photo: this.myForm.get('photo').value\n      };\n      this.studentService.newStudent(st)\n      this.myForm.reset();\n      let toast = await this.tc.create({\n        message: 'Estudiante agregado',\n        duration: 2000\n      });\n      toast.present();\n    } else {\n      let toast = await this.tc.create({\n        message: 'Verifique que todos los campos estén correctos antes de agregar',\n        duration: 2000\n      });\n      toast.present();\n    }\n  }\n\n  async updateStudent() {\n    if (this.myForm.valid) {\n      let index = this.studentService.getStudentIndexByControlNumber(this.myForm.get('controlNumber').value)\n      console.log(index)\n      let studentsTemp = this.studentService.getStudents()\n      studentsTemp[index] = {\n        controlNumber: this.myForm.get('controlNumber').value,\n        name: this.myForm.get('name').value,\n        curp: this.myForm.get('curp').value,\n        age: this.myForm.get('edad').value,\n        nip: this.myForm.get('nip').value,\n        email: this.myForm.get('email').value,\n        career: this.myForm.get('career').value,\n        photo: this.myForm.get('photo').value\n      }\n      this.studentService.setStudents(studentsTemp)\n      this.myForm.reset();\n      let toast = await this.tc.create({\n        message: 'Estudiante actualizado',\n        duration: 2000\n      });\n      toast.present();\n      this.searched = false;\n    } else {\n      let toast = await this.tc.create({\n        message: 'Verifique que todos los campos estén correctos',\n        duration: 2000\n      });\n      toast.present();\n    }\n  }\n\n  ngOnInit() {\n    this.myForm = this.fb.group(\n      {\n        controlNumber: [\"\", Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(8), Validators.pattern('^[0-9]+$')])],\n        name: [\"\", Validators.compose([Validators.required])],\n        curp: [\"\", Validators.compose([Validators.required, Validators.minLength(18), Validators.maxLength(18), Validators.pattern(/^([A-Z][AEIOUX][A-Z]{2}\\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\\d])(\\d)$/)])],\n        edad: [\"\", Validators.compose([Validators.required, Validators.min(18)])],\n        nip: [\"\", Validators.compose([Validators.required, Validators.min(9), Validators.max(9999)])],\n        email: [\"\", Validators.compose([Validators.required, Validators.pattern('^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$')])],\n        career: [\"\", Validators.compose([Validators.required, Validators.minLength(2), Validators.maxLength(3)])],\n        photo: [\"\", Validators.compose([Validators.required, Validators.pattern(/https?:\\/\\/[\\w\\-\\.]+\\.\\w{2,5}\\/?\\S*/)])]\n\n      }\n    );\n\n    this.validationMessages = {\n      'controlNumber': [\n        { type: 'required', message: \"Número de control obligatorio\" },\n        { type: 'minLength', message: \"El número de control debe de ser de 8 dígitos\" },\n        { type: 'maxLength', message: \"El número de control debe de ser de 8 dígitos\" },\n        { type: 'pattern', message: \"El número de control está mal formado\" }\n      ],\n      'name': [\n        { type: 'required', message: \"Nombre obligatorio\" }\n      ],\n      'curp': [\n        { type: 'required', message: \"La curp es obligatoria\" },\n        { type: 'minLength', message: \"La curp debe ser de 18 digitos\" },\n        { type: 'maxLength', message: \"La curp debe ser de 18 digitos\" },\n        { type: 'pattern', message: \"La curp está mal formada\" }\n      ],\n      'edad': [\n        { type: 'required', message: \"La edad es obligatoria\" },\n        { type: 'min', message: \"La edad debe ser mayor a 17\" },\n      ],\n      'nip': [\n        { type: 'required', message: \"El nip es obligatorio\" },\n        { type: 'min', message: \"El nip debe ser mayor a 9\" },\n        { type: 'max', message: \"El nip debe ser menor a 9999\" }\n      ],\n      'email': [\n        { type: 'required', message: \"Correo obligatorio\" },\n        { type: 'pattern', message: \"El correo está mal formado\" }\n      ],\n      'career': [\n        { type: 'required', message: \"Elige una carrera\" },\n        { type: 'minLength', message: \"Elige una carrera\" },\n        { type: 'maxLength', message: \"Elige una carrera\" }\n      ],\n      'photo': [\n        { type: 'required', message: \"foto obligatoria\" },\n        { type: 'pattern', message: \"El url está mal formado\" }\n      ]\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}